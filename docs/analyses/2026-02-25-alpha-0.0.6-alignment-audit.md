# Alpha 0.0.6 Alignment Audit: `docs/CONVENTIONS.md` vs `ontology/dfo-salmon.ttl`

Date: 2026-02-25  
Branch audited: `mig/audit-alpha006-20260225` (from `origin/alpha/0.0.6-review`)

## Scope

Independent contradiction audit for three requested areas:
1. SKOS-vs-OWL variable pattern
2. Property alignment axioms vs `skos:*Match` usage
3. Year-basis modeling

---

## Findings

### 1) **HIGH** — Variable/metric modeling contradicts the documented SKOS-first variable pattern

**What contradicts:**
- Conventions explicitly require compound variables/metrics (including WSP metrics) to be modeled as **SKOS concepts**, not OWL classes.
- The ontology still models rapid-status metric terms as **OWL classes**.

**Evidence:**
- Conventions rule: `docs/CONVENTIONS.md:386-390`
- Variable pattern details: `docs/CONVENTIONS.md:396-399`, `docs/CONVENTIONS.md:421-427`
- Ontology says observed variable is SKOS concept: `ontology/dfo-salmon.ttl:1493-1498`
- Ontology defines “rapid-status metric terms (OWL)” and OWL metric classes: `ontology/dfo-salmon.ttl:1876-1939`

**Integration impact:**
- Canonical variable identity drifts from the documented SKOS pattern.
- `gcdfo:hasObservedVariable` expects SKOS concepts, but the main metric terms are OWL classes, creating implementation ambiguity for data publishers.

---

### 2) **HIGH** — Property alignment uses `skos:closeMatch` where conventions require OWL/RDFS property axioms

**What contradicts:**
- Conventions require property alignment via `owl:equivalentProperty` / `rdfs:subPropertyOf`.
- Conventions restrict `skos:exactMatch` / `skos:closeMatch` to concept-level mappings.
- Ontology uses `skos:closeMatch` on multiple OWL properties.

**Evidence:**
- Conventions (object property alignment rule): `docs/CONVENTIONS.md:291-292`
- Conventions (external alignment rule): `docs/CONVENTIONS.md:1720`, `docs/CONVENTIONS.md:1726-1728`, `docs/CONVENTIONS.md:1753-1755`
- OWL object properties aligned with `skos:closeMatch`:
  - `gcdfo:hasFeatureOfInterest` → `sosa:hasFeatureOfInterest`: `ontology/dfo-salmon.ttl:1454-1462`
  - `gcdfo:hasObservationResult` → `sosa:hasResult`: `ontology/dfo-salmon.ttl:1464-1472`
  - `gcdfo:usesObservationProcedure` → `sosa:usedProcedure`: `ontology/dfo-salmon.ttl:1474-1480`
  - `gcdfo:isSampleOfStratum` → `sosa:isSampleOf`: `ontology/dfo-salmon.ttl:1483-1490`
  - `gcdfo:hasObservedVariable` → `sosa:observedProperty`: `ontology/dfo-salmon.ttl:1493-1499`
- Annotation properties also mapped with `skos:closeMatch` to I-ADOPT properties: `ontology/dfo-salmon.ttl:1502-1540`

**Integration impact:**
- Mappings are mostly lexical/annotation-style instead of logical alignment axioms, reducing inferencing/interoperability value.

---

### 3) **MEDIUM** — Canonical I-ADOPT local property names in conventions are not implemented in ontology

**What contradicts:**
- Conventions define canonical authoring properties: `gcdfo:iadoptProperty`, `gcdfo:iadoptEntity`, `gcdfo:iadoptConstraint`, `gcdfo:usedProcedure`.
- Ontology implements a different local naming set (`gcdfo:variableHas*`) and an event-level `gcdfo:usesObservationProcedure` object property.

**Evidence:**
- Canonical names and pattern: `docs/CONVENTIONS.md:402-406`, `docs/CONVENTIONS.md:426`
- Ontology local properties actually declared:
  - `gcdfo:usesObservationProcedure` (object property): `ontology/dfo-salmon.ttl:1474-1480`
  - `gcdfo:variableHasObjectOfInterest`, `gcdfo:variableHasProperty`, `gcdfo:variableHasConstraint`, etc.: `ontology/dfo-salmon.ttl:1502-1540`

**Integration impact:**
- Query templates and downstream mappings keyed to the documented canonical names will not match current ontology terms.
- Team discussions about “the canonical pattern” now require translation between doc and implementation vocabularies.

---

### 4) **MEDIUM** — Year-basis is modeled as OWL classes, conflicting with controlled-vocabulary guidance and creating semantic ambiguity

**What contradicts:**
- Conventions say picklist/code-list style terms should be SKOS concepts.
- `YearBasis`/`BroodYear`/`CatchYear`/`ReturnYear` are modeled as OWL classes and used as the range set for `hasYearBasis`, which functions like a categorical basis/facet property.

**Evidence:**
- SKOS decision rule for picklist terms: `docs/CONVENTIONS.md:386-390`
- BFO temporal guidance reference: `docs/CONVENTIONS.md:800-806`
- OWL year-basis modeling:
  - `gcdfo:hasYearBasis` range union of year-basis terms: `ontology/dfo-salmon.ttl:1446-1450`
  - `gcdfo:YearBasis` as OWL class: `ontology/dfo-salmon.ttl:1548-1553`
  - `gcdfo:BroodYear`, `gcdfo:CatchYear`, `gcdfo:ReturnYear` as OWL classes: `ontology/dfo-salmon.ttl:1555-1568`, `ontology/dfo-salmon.ttl:1944-1947`
- Internal contrast in same ontology: analogous “basis” facet (`AgeBasis`) is SKOS-based: `ontology/dfo-salmon.ttl:515-520`, `ontology/dfo-salmon.ttl:591-602`

**Integration impact:**
- Mixed modeling style for similar “basis” concepts (AgeBasis as SKOS vs YearBasis as OWL classes).
- Higher risk of class-vs-value confusion in instance data authoring and SHACL profile design.

---

## Recommended resolution order

1. **Fix property alignments first (Finding 2, HIGH)**
   - Decide and apply one alignment policy for OWL properties (`subPropertyOf`/`equivalentProperty`), remove `skos:*Match` from OWL property alignments where policy forbids it.
2. **Resolve variable/metric representation (Finding 1, HIGH)**
   - Either migrate metric variables to SKOS concept schemes or explicitly approve/document OWL-class exceptions via ADR and update conventions accordingly.
3. **Reconcile canonical I-ADOPT local property names (Finding 3, MEDIUM)**
   - Normalize ontology names to conventions, or revise conventions to match actual implemented names (with deprecation/alias plan).
4. **Harmonize year-basis modeling (Finding 4, MEDIUM)**
   - Choose SKOS facet pattern (preferred by current conventions) vs OWL class pattern, then align both docs and ontology consistently.

---

## Bottom line

Current branch has real doc-ontology drift in all three requested areas. The largest integration blockers are (a) property alignment semantics and (b) SKOS-vs-OWL treatment of variables/metrics.
