@prefix :        <https://w3id.org/gcdfo/salmon/modules/salmon-data-metamodel#> .
@prefix owl:     <http://www.w3.org/2002/07/owl#> .
@prefix rdfs:    <http://www.w3.org/2000/01/rdf-schema#> .
@prefix skos:    <http://www.w3.org/2004/02/skos/core#> .
@prefix prov:    <http://www.w3.org/ns/prov#> .
@prefix sosa:    <http://www.w3.org/ns/sosa/> .
@prefix iop:     <https://w3id.org/iadopt/ont/> .
@prefix dwc:     <http://rs.tdwg.org/dwc/terms/> .
@prefix dwcdp:   <https://rs.tdwg.org/dwc/dp/terms/> .
@prefix bfo:     <http://purl.obolibrary.org/obo/BFO_> .

<https://w3id.org/gcdfo/salmon/modules/salmon-data-metamodel-event-observation> a owl:Ontology ;
  rdfs:label "Salmon Data Metamodel â€” Event/Observation slice"@en ;
  rdfs:comment "Event and observation context slice: when/where/by whom, survey/sampling structure, and event hierarchy hints."@en .

sosa:Observation rdfs:subClassOf bfo:0000015, prov:Activity .
sosa:Sampling rdfs:subClassOf bfo:0000015, prov:Activity .

:SalmonDataObservation a owl:Class ;
  rdfs:label "Salmon data observation"@en ;
  rdfs:subClassOf sosa:Observation ,
    [ a owl:Restriction ; owl:onProperty sosa:hasFeatureOfInterest ; owl:someValuesFrom iop:Entity ] ,
    [ a owl:Restriction ; owl:onProperty sosa:observedProperty ; owl:someValuesFrom iop:Variable ] ,
    [ a owl:Restriction ; owl:onProperty sosa:hasResult ; owl:someValuesFrom sosa:Result ] ,
    [ a owl:Restriction ; owl:onProperty :hasVariable ; owl:someValuesFrom iop:Variable ] .

:SalmonDataSampling a owl:Class ;
  rdfs:label "Salmon data sampling"@en ;
  rdfs:subClassOf sosa:Sampling ,
    [ a owl:Restriction ; owl:onProperty sosa:hasFeatureOfInterest ; owl:someValuesFrom iop:Entity ] ,
    [ a owl:Restriction ; owl:onProperty sosa:hasResult ; owl:someValuesFrom sosa:Sample ] .

:observationUsedFeature a owl:ObjectProperty ;
  rdfs:label "observation used feature"@en ;
  rdfs:subPropertyOf sosa:hasFeatureOfInterest , prov:used ;
  rdfs:domain sosa:Observation ;
  rdfs:range sosa:FeatureOfInterest .

:samplingMadeBySampler a owl:ObjectProperty ;
  rdfs:label "sampling made by sampler"@en ;
  rdfs:subPropertyOf sosa:madeBySampler ;
  rdfs:domain sosa:Sampling ;
  rdfs:range sosa:Sampler .

sosa:Sampling skos:closeMatch dwc:Event .
sosa:Observation skos:closeMatch dwc:Occurrence .

dwcdp:Event a owl:Class ;
  rdfs:subClassOf prov:Activity ;
  rdfs:label "DwC-DP Event"@en .

dwcdp:Survey a owl:Class ;
  rdfs:subClassOf prov:Activity ;
  rdfs:label "DwC-DP Survey"@en .

dwcdp:Occurrence a owl:Class ;
  rdfs:subClassOf prov:Activity ;
  rdfs:label "DwC-DP Occurrence"@en .

:partOfSurvey a owl:ObjectProperty ;
  rdfs:label "part of survey"@en ;
  rdfs:domain sosa:Sampling ;
  rdfs:range dwcdp:Survey ;
  rdfs:comment "Use this (or a BFO part-of relation) to group many sampling acts under a survey/campaign activity."@en .

:dwcdpEventID a owl:ObjectProperty ;
  rdfs:label "eventID (happened during)"@en ;
  rdfs:domain owl:Thing ;
  rdfs:range dwcdp:Event ;
  rdfs:comment "Reference-style linkage used in DwC-DP rows (e.g., Survey/Occurrence/MaterialEntity to Event)."@en .

:dwcdpParentEventID a owl:ObjectProperty ;
  rdfs:label "parentEventID (happened during)"@en ;
  rdfs:domain dwcdp:Event ;
  rdfs:range dwcdp:Event ;
  rdfs:comment "Event hierarchy parent-child linkage in DwC-DP."@en .

dwcdp:Survey :dwcdpEventID dwcdp:Event .
dwcdp:Occurrence :dwcdpEventID dwcdp:Event .
dwcdp:Event :dwcdpParentEventID dwcdp:Event .
