@prefix dfo:     <https://w3id.org/dfo/salmon#> .
@prefix owl:     <http://www.w3.org/2002/07/owl#> .
@prefix rdfs:    <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:     <http://www.w3.org/2001/XMLSchema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix prov:    <http://www.w3.org/ns/prov#> .
@prefix schema:  <https://schema.org/> .
@prefix dwc:     <http://rs.tdwg.org/dwc/terms/> .
@prefix dwciri:  <http://rs.tdwg.org/dwc/iri/> .
@prefix unit:    <http://qudt.org/vocab/unit/> .
@prefix qudt:    <http://qudt.org/schema/qudt/> .
@prefix skos:    <http://www.w3.org/2004/02/skos/core#> .
@prefix oboInOwl: <http://www.geneontology.org/formats/oboInOwl#> .
@prefix :        <https://w3id.org/dfo/salmon#> .

#################################################################
# Ontology header
# NOTE: Keep IRIs stable; evolve labels/comments over time.
# TODO(Release): Update dcterms:modified and owl:versionInfo/IRI on each release.
#################################################################

<https://w3id.org/dfo/salmon> a owl:Ontology ;
  dcterms:title "DFO Salmon Ontology"@en ;
  dcterms:creator "DFO Pacific Science — Data Stewardship Unit"@en ;
  dcterms:publisher "Fisheries and Oceans Canada (DFO) — Pacific Region Science Branch"@en ;
  dcterms:license <https://creativecommons.org/licenses/by/4.0/> ;
  dcterms:created "2025-09-06"^^xsd:date ;
  dcterms:description "OWL + SKOS ontology for DFO salmon data: stocks/CUs/MUs, survey events, escapement measurements, and GSI constructs; aligns to DwC via rdfs:subClassOf; hybrid approach with SKOS for methods and OWL for events."@en ;
  rdfs:seeAlso <https://github.com/dfo-pacific-science/salmon-ontology> ;
  owl:versionInfo "0.2.0 (hybrid OWL+SKOS approach)" ;
  owl:versionIRI <https://w3id.org/dfo/salmon/0.2.0> ;
  rdfs:comment "Hybrid OWL+SKOS ontology for DFO salmon data. Uses SKOS for controlled vocabularies (methods, criteria) and OWL for formal relationships and events."@en .

#################################################################
# SKOS Schemes for Controlled Vocabularies
#################################################################

:EnumerationMethodScheme a skos:ConceptScheme ;
    skos:prefLabel "Enumeration Method Scheme"@en ;
    skos:definition "Controlled vocabulary for salmon enumeration methods"@en ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

:EstimateMethodScheme a skos:ConceptScheme ;
    skos:prefLabel "Estimate Method Scheme"@en ;
    skos:definition "Controlled vocabulary for salmon estimate methods"@en ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

:DowngradeCriteriaScheme a skos:ConceptScheme ;
    skos:prefLabel "Downgrade Criteria Scheme"@en ;
    skos:definition "Controlled vocabulary for estimate type downgrade criteria"@en ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

:EstimateTypeScheme a skos:ConceptScheme ;
    skos:prefLabel "Estimate Type Scheme"@en ;
    skos:definition "Controlled vocabulary for Hyatt 1997 estimate types"@en ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

#################################################################
# SKOS Enumeration Methods (from escapement_estimate_type_guidance.txt)
#################################################################

:CensusByManualCountAtFixedSite a skos:Concept ;
    skos:prefLabel "Census by Manual Count at Fixed Site"@en ;
    skos:definition "Salmon are guided through a controlled opening in a fence/weir where trained observers visually tally each passage event on a continuous or daily schedule. Counting chambers/windows and SIL/SEN daily logs document coverage; bypass routes are monitored and closed where possible."@en ;
    skos:inScheme :EnumerationMethodScheme ;
    skos:broader :EnumerationMethod ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

:VisualSnorkelCount a skos:Concept ;
    skos:prefLabel "Visual Snorkel Count"@en ;
    skos:definition "Two or more trained snorkelers conduct standardized passes within defined segments, tallying live/dead by species. Field forms capture visibility class, segment boundaries, and repeat‑visit schedule; counts are aggregated across observers/passes."@en ;
    skos:inScheme :EnumerationMethodScheme ;
    skos:broader :EnumerationMethod ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

:AerialSurveyCount a skos:Concept ;
    skos:prefLabel "Aerial Survey Count"@en ;
    skos:definition "Repeated overflights enumerate visible spawners over defined waterbodies using helicopter fixed wing or drone platforms. Flight lines altitude sensor settings and ground sampling distance are documented and imagery may be reviewed post flight."@en ;
    skos:inScheme :EnumerationMethodScheme ;
    skos:broader :EnumerationMethod ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

:EnumerationMethod a skos:Concept ;
    skos:prefLabel "Enumeration Method"@en ;
    skos:definition "A method used to enumerate or count salmon in the field"@en ;
    skos:inScheme :EnumerationMethodScheme ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

#################################################################
# SKOS Estimate Methods (from escapement_estimate_type_guidance.txt)
#################################################################

:FixedStationTally a skos:Concept ;
    skos:prefLabel "Fixed‑Station Tally"@en ;
    skos:definition "Seasonal total = roll‑up of daily/continuous counts from a fixed (non‑sonar) station; simple arithmetic with documented coverage."@en ;
    skos:inScheme :EstimateMethodScheme ;
    skos:broader :EstimateMethod ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

:AreaUnderTheCurve a skos:Concept ;
    skos:prefLabel "Area Under the Curve (AUC)"@en ;
    skos:definition "Integrates serial counts over time using a survey‑life parameter; may apply observer efficiency."@en ;
    skos:inScheme :EstimateMethodScheme ;
    skos:broader :EstimateMethod ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

:PeakCountAnalysis a skos:Concept ;
    skos:prefLabel "Peak Count Analysis"@en ;
    skos:definition "Uses the peak survey (live ± dead variants) as the season estimate/index."@en ;
    skos:inScheme :EstimateMethodScheme ;
    skos:broader :EstimateMethod ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

:EstimateMethod a skos:Concept ;
    skos:prefLabel "Estimate Method"@en ;
    skos:definition "A method used to analyze and estimate salmon abundance from enumeration data"@en ;
    skos:inScheme :EstimateMethodScheme ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

#################################################################
# SKOS Downgrade Criteria (from escapement_estimate_type_guidance.txt)
#################################################################

:VISITS a skos:Concept ;
    skos:prefLabel "Number of visits"@en ;
    skos:definition "Too few site visits for the claimed precision tier (e.g., <5 for high‑effort visual programs)."@en ;
    skos:inScheme :DowngradeCriteriaScheme ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

:REACH_COVERAGE a skos:Concept ;
    skos:prefLabel "Spatial coverage"@en ;
    skos:definition "Fraction of intended reaches/segments not surveyed."@en ;
    skos:inScheme :DowngradeCriteriaScheme ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

:VISIBILITY a skos:Concept ;
    skos:prefLabel "Visibility/turbidity/lighting"@en ;
    skos:definition "Poor water clarity, glare, or lighting limits detection (visual/video/sonar)."@en ;
    skos:inScheme :DowngradeCriteriaScheme ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

:DOC a skos:Concept ;
    skos:prefLabel "Documentation/Evidence"@en ;
    skos:definition "Missing/insufficient SIL/SEN/field notes/parameter records to support the claimed Type."@en ;
    skos:inScheme :DowngradeCriteriaScheme ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

#################################################################
# SKOS Estimate Types (Hyatt 1997)
#################################################################

:Type1 a skos:Concept ;
    skos:prefLabel "Type-1, True Abundance, high resolution"@en ;
    skos:definition "Total, seasonal counts through fence or fishway; virtually no bypass. Simple, often single step analysis. Reliable resolution of between year differences >10% (in absolute units)."@en ;
    skos:inScheme :EstimateTypeScheme ;
    skos:broader :EstimateType ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

:Type2 a skos:Concept ;
    skos:prefLabel "Type-2, True Abundance, medium resolution"@en ;
    skos:definition "High effort (5 or more trips), standard methods (e.g. mark-recapture, serial counts for area under curve, etc.). Simple to complex multi-step, but always rigorous. Reliable resolution of between year differences >25% (in absolute units)."@en ;
    skos:inScheme :EstimateTypeScheme ;
    skos:broader :EstimateType ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

:Type3 a skos:Concept ;
    skos:prefLabel "Type-3, Relative Abundance, high resolution"@en ;
    skos:definition "High effort (5 or more trips), standard methods (e.g. equal effort surveys executed by walk, swim, overflight, etc.). Simple to complex multi-step, but always rigorous. Reliable resolution of between year differences >25% (in relative units)."@en ;
    skos:inScheme :EstimateTypeScheme ;
    skos:broader :EstimateType ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

:Type4 a skos:Concept ;
    skos:prefLabel "Type-4, Relative Abundance, medium resolution"@en ;
    skos:definition "Low to moderate effort (1-4 trips), known survey method. Simple analysis by known methods. Reliable resolution of between year differences >200% (in relative units)."@en ;
    skos:inScheme :EstimateTypeScheme ;
    skos:broader :EstimateType ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

:Type5 a skos:Concept ;
    skos:prefLabel "Type-5, Relative Abundance, low resolution"@en ;
    skos:definition "Low effort (e.g. 1 trip), use of vaguely defined, inconsistent or poorly executed methods. Unknown to ill defined; inconsistent or poorly executed. Uncertain numeric comparisons, but high reliability for presence or absence."@en ;
    skos:inScheme :EstimateTypeScheme ;
    skos:broader :EstimateType ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

:Type6 a skos:Concept ;
    skos:prefLabel "Type-6, Presence or Absence"@en ;
    skos:definition "Any of above methods. Not required for analysis. Moderate to high reliability for presence/absence."@en ;
    skos:inScheme :EstimateTypeScheme ;
    skos:broader :EstimateType ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

:EstimateType a skos:Concept ;
    skos:prefLabel "Estimate Type"@en ;
    skos:definition "Classification of escapement estimate quality based on Hyatt 1997 framework"@en ;
    skos:inScheme :EstimateTypeScheme ;
    rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

#################################################################
# Core classes
# DISCUSS(Label style): Use parentheses (e.g., 'Stock (Population)') or keep terse labels.
#################################################################

dfo:Stock a owl:Class ;
  rdfs:label "Stock"@en ;
  rdfs:comment "A biologically meaningful but operationally focussed salmon demographic unit used in assessment and reporting."@en ;
  rdfs:subClassOf dwc:Organism ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:ConservationUnit a owl:Class ;
  rdfs:label "Conservation Unit"@en ;
  rdfs:comment "A Wild Salmon Policy Conservation Unit (CU)."@en ;
  rdfs:subClassOf dwc:Event ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:StockManagementUnit a owl:Class ;
  rdfs:label "Stock Management Unit"@en ;
  rdfs:comment "A management unit used for fisheries planning and reporting."@en ;
  rdfs:subClassOf dwc:Event ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:SurveyEvent a owl:Class ;
  rdfs:label "Survey Event"@en ;
  rdfs:comment "A field event associated with monitoring (e.g., escapement survey, fence count, sonar period)."@en ;
  rdfs:subClassOf dwc:Event ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:EscapementMeasurement a owl:Class ;
  rdfs:label "Escapement Measurement"@en ;
  rdfs:comment "A measurement or estimate of escapement tied to a stock and a survey event."@en ;
  rdfs:subClassOf dwc:MeasurementOrFact ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:Indicator a owl:Class ;
  rdfs:label "Index"@en ;
  rdfs:comment "A derived assessment index used in Fisheries Sciene Reports or stock status reporting."@en ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:Dataset a owl:Class ;
  rdfs:label "Dataset"@en ;
  rdfs:comment "A data product registered in catalogues (e.g., GeoNetwork); aligns with schema:Dataset."@en ;
  rdfs:subClassOf schema:Dataset ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

#################################################################
# Stock assessment specializations
#################################################################

dfo:EscapementSurveyEvent a owl:Class ;
  rdfs:label "Escapement Survey Event"@en ;
  rdfs:comment "A survey event specifically for estimating escapement."@en ;
  rdfs:subClassOf dfo:SurveyEvent ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

# NOTE: Hyponyms (specializations) of EscapementMeasurement.
# DISCUSS(Disjointness): Make these subclasses mutually disjoint? See commented axiom below.

dfo:SonarCountMeasurement a owl:Class ;
  rdfs:label "Sonar Count Measurement"@en ;
  rdfs:comment "Escapement measurement produced using sonar systems (e.g., ARIS, DIDSON)."@en ;
  rdfs:subClassOf dfo:EscapementMeasurement ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:WeirCountMeasurement a owl:Class ;
  rdfs:label "Weir Count Measurement"@en ;
  rdfs:comment "Escapement measurement produced via weir/fence counts."@en ;
  rdfs:subClassOf dfo:EscapementMeasurement ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:AerialCountMeasurement a owl:Class ;
  rdfs:label "Aerial Count Measurement"@en ;
  rdfs:comment "Escapement measurement produced via aerial survey counts."@en ;
  rdfs:subClassOf dfo:EscapementMeasurement ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

#################################################################
# Genetics Lab classes
#################################################################

dfo:GeneticSample a owl:Class ;
  rdfs:label "Genetic Sample"@en ;
  rdfs:comment "Tissue or material used in genetic stock identification or lab analyses."@en ;
  rdfs:subClassOf dwc:MaterialEntity ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:GSIRun a owl:Class ;
  rdfs:label "GSI Run"@en ;
  rdfs:comment "A computational run of GSI assignment (e.g., ONCOR, RUBIAS, BAYES) against a baseline."@en ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:GSICompositionMeasurement a owl:Class ;
  rdfs:label "GSI Composition Measurement"@en ;
  rdfs:comment "Estimated proportion of individuals assigned to a reporting unit in a GSI run."@en ;
  rdfs:subClassOf dwc:MeasurementOrFact ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:ReportingUnit a owl:Class ;
  rdfs:label "Reporting Unit"@en ;
  rdfs:comment "Genetic reporting unit (repunit) used in GSI outputs."@en ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .
  # TODO: relate to CUs etc

dfo:Assay a owl:Class ;
  rdfs:label "Assay"@en ;
  rdfs:comment "A lab assay or test applied to genetic samples."@en ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:MarkerPanel a owl:Class ;
  rdfs:label "Marker Panel"@en ;
  rdfs:comment "A set of genetic markers (e.g., SNP panel) used for GSI."@en ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:Protocol a owl:Class ;
  rdfs:label "Protocol"@en ;
  rdfs:comment "A lab or computational protocol."@en ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .
  # DISCUSS: Should this include field protocols?
#################################################################
# Escapement Method hierarchy (OWL-only, replaces SKOS)
#################################################################

dfo:EscapementMethod a owl:Class ;
  rdfs:label "Escapement Method"@en ;
  rdfs:comment "A methodological family used to estimate escapement."@en ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

# NOTE: Hyponyms of EscapementMethod. Optionally mark as disjoint (see below).
dfo:AreaUnderTheCurve a owl:Class ;
  rdfs:label "Area Under the Curve"@en ;
  rdfs:comment "Estimation by integrating counts over time to approximate total escapement."@en ;
  rdfs:subClassOf dfo:EscapementMethod ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:AutomatedCountingMethods a owl:Class ;
  rdfs:label "Automated Counting Methods"@en ;
  rdfs:comment "Technology-based direct counts at fixed sites (e.g., resistivity, video, sonar)."@en ;
  rdfs:subClassOf dfo:EscapementMethod ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:CalibratedTimeSeries a owl:Class ;
  rdfs:label "Calibrated Time Series"@en ;
  rdfs:comment "Estimation using calibration of time series counts against independent measures."@en ;
  rdfs:subClassOf dfo:EscapementMethod ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:ExpansionMethods a owl:Class ;
  rdfs:label "Expansion Methods (multiply by factors)"@en ;
  rdfs:comment "Extrapolate peak/sampled observations using expansion factors (e.g., redd multipliers)."@en ;
  rdfs:subClassOf dfo:EscapementMethod ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:ExpertOpinion a owl:Class ;
  rdfs:label "Expert Opinion"@en ;
  rdfs:comment "Estimate derived via expert judgment considering multiple evidence sources."@en ;
  rdfs:subClassOf dfo:EscapementMethod ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:FixedStationCountAnalysis a owl:Class ;
  rdfs:label "Fixed Station Count Analysis"@en ;
  rdfs:comment "Combine/aggregate manual counts from fixed monitoring locations."@en ;
  rdfs:subClassOf dfo:EscapementMethod ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:MarkRecaptureAnalysis a owl:Class ;
  rdfs:label "Mark-Recapture Analysis"@en ;
  rdfs:comment "Statistical estimation from mark–recapture designs (e.g., Petersen, Jolly-Seber)."@en ;
  rdfs:subClassOf dfo:EscapementMethod ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:MathematicalOperations a owl:Class ;
  rdfs:label "Mathematical Operations"@en ;
  rdfs:comment "Algebraic aggregation/adjustment of observations (add/subtract/multiply/divide)."@en ;
  rdfs:subClassOf dfo:EscapementMethod ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:PeakCountAnalysis a owl:Class ;
  rdfs:label "Peak Count Analysis"@en ;
  rdfs:comment "Use the peak live (± dead) count as the basis for annual escapement."@en ;
  rdfs:subClassOf dfo:EscapementMethod ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:UnknownMethod a owl:Class ;
  rdfs:label "Unknown Method"@en ;
  rdfs:comment "Method not documented or cannot be categorized."@en ;
  rdfs:subClassOf dfo:EscapementMethod ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

#################################################################
# Optional (Advanced) – Mutually disjoint method families
# DECIDE: Enable if these method categories should never overlap.
# owl:AllDisjointClasses [
#   owl:members ( dfo:AreaUnderTheCurve dfo:AutomatedCountingMethods dfo:CalibratedTimeSeries
#                 dfo:ExpansionMethods dfo:ExpertOpinion dfo:FixedStationCountAnalysis
#                 dfo:MarkRecaptureAnalysis dfo:MathematicalOperations dfo:PeakCountAnalysis )
# ] .
#################################################################

#################################################################
# Roll-up / Partonomy pattern: MU ▶ CU ▶ Stock
# Use these between INDIVIDUALS (e.g., Skeena MU, its CUs, specific Stocks).
#################################################################

# Generic membership (transitive)
dfo:hasMember a owl:ObjectProperty , owl:TransitiveProperty ;
  rdfs:label "has member"@en ;
  rdfs:comment "Generic hierarchical containment/membership across management hierarchies (transitive)."@en ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:isMemberOf a owl:ObjectProperty ;
  rdfs:label "is member of"@en ;
  rdfs:comment "Inverse of hasMember."@en ;
  owl:inverseOf dfo:hasMember ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

# Management Unit ▶ Conservation Unit
dfo:hasMemberCU a owl:ObjectProperty ;
  rdfs:label "has member CU"@en ;
  rdfs:comment "A Management Unit contains a Conservation Unit."@en ;
  rdfs:domain dfo:ManagementUnit ;
  rdfs:range  dfo:ConservationUnit ;
  rdfs:subPropertyOf dfo:hasMember ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:isMemberOfMU a owl:ObjectProperty ;
  rdfs:label "is member of MU"@en ;
  rdfs:comment "A Conservation Unit belongs to a Management Unit."@en ;
  rdfs:domain dfo:ConservationUnit ;
  rdfs:range  dfo:ManagementUnit ;
  owl:inverseOf dfo:hasMemberCU ;
  rdfs:subPropertyOf dfo:isMemberOf ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

# Conservation Unit ▶ Stock (Population)
dfo:hasMemberStock a owl:ObjectProperty ;
  rdfs:label "has member stock"@en ;
  rdfs:comment "A Conservation Unit contains one or more Stocks (populations)."@en ;
  rdfs:domain dfo:ConservationUnit ;
  rdfs:range  dfo:Stock ;
  rdfs:subPropertyOf dfo:hasMember ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:isMemberOfCU a owl:ObjectProperty ;
  rdfs:label "is member of CU"@en ;
  rdfs:comment "A Stock (population) belongs to a Conservation Unit."@en ;
  rdfs:domain dfo:Stock ;
  rdfs:range  dfo:ConservationUnit ;
  owl:inverseOf dfo:hasMemberStock ;
  rdfs:subPropertyOf dfo:isMemberOf ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

# Inference note:
# Because hasMemberCU ⊑ hasMember and hasMemberStock ⊑ hasMember, and hasMember is transitive:
# MU hasMemberCU CU  AND  CU hasMemberStock Stock  ⇒  MU hasMember Stock

#################################################################
# Optional class disjointness (safer modeling)
# DECIDE: Enable to prevent an individual being both MU and CU, etc.
# owl:AllDisjointClasses [ owl:members ( dfo:ManagementUnit dfo:ConservationUnit dfo:Stock ) ] .
#################################################################

#################################################################
# Deprecation (clarify membership naming)
#################################################################

# Previously: Stock→CU as hasConservationUnit. Keep for back-compat but prefer isMemberOfCU.
dfo:hasConservationUnit a owl:ObjectProperty ;
  owl:deprecated "true"^^xsd:boolean ;
  rdfs:label "has conservation unit (deprecated; use isMemberOfCU)"@en ;
  rdfs:comment "Deprecated alias for Stock→CU membership. Use dfo:isMemberOfCU instead for clarity."@en ;
  rdfs:domain dfo:Stock ;
  rdfs:range  dfo:ConservationUnit ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> ;
  owl:equivalentProperty dfo:isMemberOfCU .

#################################################################
# Object properties (measurement & genetics)
#################################################################

dfo:aboutStock a owl:ObjectProperty ;
  rdfs:label "about stock"@en ;
  rdfs:comment "Links a measurement to the stock it describes."@en ;
  rdfs:domain dfo:EscapementMeasurement ;
  rdfs:range dfo:Stock ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:observedDuring a owl:ObjectProperty ;
  rdfs:label "observed during"@en ;
  rdfs:comment "Links a measurement to its survey event."@en ;
  rdfs:domain dfo:EscapementMeasurement ;
  rdfs:range dfo:SurveyEvent ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:usesMethod a owl:ObjectProperty ;
  rdfs:label "uses method"@en ;
  rdfs:comment "The escapement method family applied to produce the measurement."@en ;
  rdfs:domain dfo:EscapementMeasurement ;
  rdfs:range dfo:EscapementMethod ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .
  # TODO(QA): Should every EscapementMeasurement have exactly one method? If yes, enforce in SHACL later.

# New properties for hybrid approach
dfo:usesEnumerationMethod a owl:ObjectProperty ;
  rdfs:label "uses enumeration method"@en ;
  rdfs:comment "Links a survey event to the enumeration method used."@en ;
  rdfs:domain dfo:EscapementSurveyEvent ;
  rdfs:range :EnumerationMethod ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:usesEstimateMethod a owl:ObjectProperty ;
  rdfs:label "uses estimate method"@en ;
  rdfs:comment "Links a survey event to the estimate method used."@en ;
  rdfs:domain dfo:EscapementSurveyEvent ;
  rdfs:range :EstimateMethod ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:assignedEstimateType a owl:ObjectProperty ;
  rdfs:label "assigned estimate type"@en ;
  rdfs:comment "The Hyatt 1997 estimate type assigned to a survey event."@en ;
  rdfs:domain dfo:EscapementSurveyEvent ;
  rdfs:range :EstimateType ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:downgradeCriteriaMet a owl:ObjectProperty ;
  rdfs:label "downgrade criteria met"@en ;
  rdfs:comment "Downgrade criteria that apply to a survey event when thresholds are not met."@en ;
  rdfs:domain dfo:EscapementSurveyEvent ;
  rdfs:range :DowngradeCriteriaScheme ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:hasIndicator a owl:ObjectProperty ;
  rdfs:label "has indicator"@en ;
  rdfs:comment "A stock has an associated indicator time series or value."@en ;
  rdfs:domain dfo:Stock ;
  rdfs:range dfo:Indicator ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .
  # DISCUSS(Cardinality): One stock → many indicators or a fixed set? Avoid FunctionalProperty for now.

# Genetics relations

dfo:sampledDuring a owl:ObjectProperty ;
  rdfs:label "sampled during"@en ;
  rdfs:comment "Genetic sample collected during a survey event."@en ;
  rdfs:domain dfo:GeneticSample ;
  rdfs:range dfo:SurveyEvent ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:ofStock a owl:ObjectProperty ;
  rdfs:label "of stock"@en ;
  rdfs:comment "Sample is associated with a stock (if known)."@en ;
  rdfs:domain dfo:GeneticSample ;
  rdfs:range dfo:Stock ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:usedAssay a owl:ObjectProperty ;
  rdfs:label "used assay"@en ;
  rdfs:comment "Links a GSI run to the assay used."@en ;
  rdfs:domain dfo:GSIRun ;
  rdfs:range dfo:Assay ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:usedMarkerPanel a owl:ObjectProperty ;
  rdfs:label "used marker panel"@en ;
  rdfs:comment "Links a GSI run to the marker panel applied."@en ;
  rdfs:domain dfo:GSIRun ;
  rdfs:range dfo:MarkerPanel ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:usedProtocol a owl:ObjectProperty ;
  rdfs:label "used protocol"@en ;
  rdfs:comment "Links a GSI run to the laboratory or computational protocol followed."@en ;
  rdfs:domain dfo:GSIRun ;
  rdfs:range dfo:Protocol ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:analyzesSamples a owl:ObjectProperty ;
  rdfs:label "analyzes samples"@en ;
  rdfs:comment "Indicates which genetic samples were analyzed in a GSI run."@en ;
  rdfs:domain dfo:GSIRun ;
  rdfs:range dfo:GeneticSample ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:producedMeasurement a owl:ObjectProperty ;
  rdfs:label "produced measurement"@en ;
  rdfs:comment "Points from a GSI run to the composition measurements it produced."@en ;
  rdfs:domain dfo:GSIRun ;
  rdfs:range dfo:GSICompositionMeasurement ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:derivedFromSample a owl:ObjectProperty ;
  rdfs:label "derived from sample"@en ;
  rdfs:comment "Indicates the sample(s) from which a composition measurement was derived."@en ;
  rdfs:domain dfo:GSICompositionMeasurement ;
  rdfs:range dfo:GeneticSample ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:aboutReportingUnit a owl:ObjectProperty ;
  rdfs:label "about reporting unit"@en ;
  rdfs:comment "Links a composition measurement to the reporting unit it describes."@en ;
  rdfs:domain dfo:GSICompositionMeasurement ;
  rdfs:range dfo:ReportingUnit ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:hasReportingUnit a owl:ObjectProperty ;
  rdfs:label "has reporting unit"@en ;
  rdfs:comment "Associates a stock with a corresponding genetic reporting unit."@en ;
  rdfs:domain dfo:Stock ;
  rdfs:range dfo:ReportingUnit ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .
  # DISCUSS(Modeling): Should RU also link to Stock directly, or only via CU? Current model allows Stock↔RU.

dfo:ruExactMatch a owl:ObjectProperty ;
  rdfs:label "exact match to CU"@en ;
  rdfs:comment "Reporting unit exactly matches the stated Conservation Unit."@en ;
  rdfs:domain dfo:ReportingUnit ;
  rdfs:range dfo:ConservationUnit ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:ruCloseMatch a owl:ObjectProperty ;
  rdfs:label "close match to CU"@en ;
  rdfs:comment "Reporting unit closely matches—but is not identical to—the stated Conservation Unit."@en ;
  rdfs:domain dfo:ReportingUnit ;
  rdfs:range dfo:ConservationUnit ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .
  # TODO(Operational): Define authoritative RU↔CU crosswalk and criteria for 'close' vs 'exact'.

#################################################################
# OPTIONAL (Advanced) – Property characteristics & chains
# DECIDE: Enable later if governance agrees.
#################################################################

# Example: If a Stock has only one CU, make isMemberOfCU functional.
# dfo:isMemberOfCU a owl:FunctionalProperty .

# Example: If a CU belongs to one MU, make isMemberOfMU functional.
# dfo:isMemberOfMU a owl:FunctionalProperty .

# Example chain: Sample ofStock + Stock isMemberOfCU ⇒ Sample ofConservationUnit
# (requires a new property ofConservationUnit)
# dfo:ofConservationUnit a owl:ObjectProperty ;
#   rdfs:label "of conservation unit"@en ;
#   rdfs:comment "Inferred link from a sample to a CU via its stock."@en ;
#   rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .
# dfo:ofConservationUnit owl:propertyChainAxiom ( dfo:ofStock dfo:isMemberOfCU ) .

#################################################################
# Datatype properties
#################################################################

dfo:eventDate a owl:DatatypeProperty ;
  rdfs:label "event date"@en ;
  rdfs:comment "Date of the survey event (use for single-day events)."@en ;
  rdfs:domain dfo:SurveyEvent ;
  rdfs:range xsd:date ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .
  # DISCUSS(Time): Keep both date and dateTime start/end? Current pattern supports both day-level and interval events.

dfo:eventStartDate a owl:DatatypeProperty ;
  rdfs:label "event start date"@en ;
  rdfs:comment "Start date/time of the survey event (ISO 8601)."@en ;
  rdfs:domain dfo:SurveyEvent ;
  rdfs:range xsd:dateTime ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:eventEndDate a owl:DatatypeProperty ;
  rdfs:label "event end date"@en ;
  rdfs:comment "End date/time of the survey event (ISO 8601)."@en ;
  rdfs:domain dfo:SurveyEvent ;
  rdfs:range xsd:dateTime ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:countValue a owl:DatatypeProperty ;
  rdfs:label "count value"@en ;
  rdfs:comment "Escapement count or estimate (integer)."@en ;
  rdfs:domain dfo:EscapementMeasurement ;
  rdfs:range xsd:integer ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .
  # DISCUSS(Units): For non-integer estimates, allow decimal? If yes, add a separate estimateValue (xsd:decimal).

dfo:countUnitIRI a owl:DatatypeProperty ;
  rdfs:label "count unit IRI"@en ;
  rdfs:comment "Unit IRI for the count/estimate (e.g., http://qudt.org/vocab/unit/Each)."@en ;
  rdfs:domain dfo:EscapementMeasurement ;
  rdfs:range xsd:anyURI ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .
  # DECIDE(Units): Standardize unit IRIs for counts (likely unit:Each). Document in README.

dfo:region a owl:DatatypeProperty ;
  rdfs:label "region"@en ;
  rdfs:comment "Region label for aggregation (temporary literal)."@en ;
  rdfs:domain dfo:SurveyEvent ;
  rdfs:range xsd:string ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .
  # TODO(Modeling): Replace with object link to a controlled region concept when ready.

# Genetics literals

dfo:estimateValue a owl:DatatypeProperty ;
  rdfs:label "estimate value"@en ;
  rdfs:comment "Numeric value of the composition estimate (choose convention: fraction 0–1 with unit:One, or percent 0–100 with unit:Percent)."@en ;
  rdfs:domain dfo:GSICompositionMeasurement ;
  rdfs:range xsd:decimal ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .
  # DECIDE(Convention): Fraction vs percent. Pick one; enforce via SHACL later.

dfo:estimateUnitIRI a owl:DatatypeProperty ;
  rdfs:label "estimate unit IRI"@en ;
  rdfs:comment "Unit IRI for estimate (e.g., http://qudt.org/vocab/unit/One or http://qudt.org/vocab/unit/Percent)."@en ;
  rdfs:domain dfo:GSICompositionMeasurement ;
  rdfs:range xsd:anyURI ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .
  # TODO(QA): Add README table with approved unit IRIs and when to use each.

dfo:standardError a owl:DatatypeProperty ;
  rdfs:label "standard error"@en ;
  rdfs:comment "Standard error associated with the composition estimate."@en ;
  rdfs:domain dfo:GSICompositionMeasurement ;
  rdfs:range xsd:decimal ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:ciLower a owl:DatatypeProperty ;
  rdfs:label "confidence interval lower"@en ;
  rdfs:comment "Lower bound of the confidence interval for the estimate."@en ;
  rdfs:domain dfo:GSICompositionMeasurement ;
  rdfs:range xsd:decimal ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:ciUpper a owl:DatatypeProperty ;
  rdfs:label "confidence interval upper"@en ;
  rdfs:comment "Upper bound of the confidence interval for the estimate."@en ;
  rdfs:domain dfo:GSICompositionMeasurement ;
  rdfs:range xsd:decimal ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:confidenceLevel a owl:DatatypeProperty ;
  rdfs:label "confidence level"@en ;
  rdfs:comment "Confidence level for the interval (e.g., 0.95 for 95% confidence)."@en ;
  rdfs:domain dfo:GSICompositionMeasurement ;
  rdfs:range xsd:decimal ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:methodName a owl:DatatypeProperty ;
  rdfs:label "method name"@en ;
  rdfs:comment "Human-readable name of the GSI assignment method/software."@en ;
  rdfs:domain dfo:GSIRun ;
  rdfs:range xsd:string ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:baselineName a owl:DatatypeProperty ;
  rdfs:label "baseline name"@en ;
  rdfs:comment "Name of the genetic baseline used for assignment."@en ;
  rdfs:domain dfo:GSIRun ;
  rdfs:range xsd:string ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:runDate a owl:DatatypeProperty ;
  rdfs:label "run date"@en ;
  rdfs:comment "Date the GSI run was executed."@en ;
  rdfs:domain dfo:GSIRun ;
  rdfs:range xsd:date ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .
  # DISCUSS(Date granularity): Do we need dateTime? time zone? For now, keep date only.

dfo:runNote a owl:DatatypeProperty ;
  rdfs:label "run note"@en ;
  rdfs:comment "Free-text notes about the run (parameters, caveats, etc.)."@en ;
  rdfs:domain dfo:GSIRun ;
  rdfs:range xsd:string ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:sampleID a owl:DatatypeProperty ;
  rdfs:label "sample ID"@en ;
  rdfs:comment "Local laboratory or field identifier for the genetic sample."@en ;
  rdfs:domain dfo:GeneticSample ;
  rdfs:range xsd:string ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:tissueType a owl:DatatypeProperty ;
  rdfs:label "tissue type"@en ;
  rdfs:comment "Type of tissue collected (e.g., fin clip, muscle)."@en ;
  rdfs:domain dfo:GeneticSample ;
  rdfs:range xsd:string ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:collectionMethod a owl:DatatypeProperty ;
  rdfs:label "collection method"@en ;
  rdfs:comment "Method used to collect the sample (e.g., seine, trap, biopsy)."@en ;
  rdfs:domain dfo:GeneticSample ;
  rdfs:range xsd:string ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

# External alignment (literal IRI pattern)
dfo:taxonIRI a owl:DatatypeProperty ;
  rdfs:label "taxon IRI"@en ;
  rdfs:comment "IRI identifying the taxon (e.g., GBIF Backbone Taxonomy). Stored as a literal IRI for pragmatic alignment without imports."@en ;
  rdfs:domain dfo:Stock ;
  rdfs:range xsd:anyURI ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .
  # TODO(Registry): Confirm canonical registry (GBIF/ITIS/etc.) and document choice.

# New datatype properties for survey metadata
dfo:measuredVisits a owl:DatatypeProperty ;
  rdfs:label "measured visits"@en ;
  rdfs:comment "Number of site visits conducted during the survey."@en ;
  rdfs:domain dfo:EscapementSurveyEvent ;
  rdfs:range xsd:integer ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:measuredReachCoverage a owl:DatatypeProperty ;
  rdfs:label "measured reach coverage"@en ;
  rdfs:comment "Fraction of intended reaches/segments surveyed (0.0 to 1.0)."@en ;
  rdfs:domain dfo:EscapementSurveyEvent ;
  rdfs:range xsd:decimal ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:measuredVisibility a owl:DatatypeProperty ;
  rdfs:label "measured visibility"@en ;
  rdfs:comment "Water clarity/visibility conditions during the survey."@en ;
  rdfs:domain dfo:EscapementSurveyEvent ;
  rdfs:range xsd:string ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:measuredObserverEfficiency a owl:DatatypeProperty ;
  rdfs:label "measured observer efficiency"@en ;
  rdfs:comment "Observer efficiency rate for the survey (0.0 to 1.0)."@en ;
  rdfs:domain dfo:EscapementSurveyEvent ;
  rdfs:range xsd:decimal ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:percentRiverSwam a owl:DatatypeProperty ;
  rdfs:label "percent river swam"@en ;
  rdfs:comment "Percentage of river length covered during snorkel surveys (0.0 to 100.0)."@en ;
  rdfs:domain dfo:EscapementSurveyEvent ;
  rdfs:range xsd:decimal ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:hasDocumentation a owl:ObjectProperty ;
  rdfs:label "has documentation"@en ;
  rdfs:comment "Links to documentation (SIL, SEN, field notes) for the survey."@en ;
  rdfs:domain dfo:EscapementSurveyEvent ;
  rdfs:range dcterms:Document ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

dfo:hasQAReport a owl:ObjectProperty ;
  rdfs:label "has QA report"@en ;
  rdfs:comment "Links to quality assurance report for the survey."@en ;
  rdfs:domain dfo:EscapementSurveyEvent ;
  rdfs:range dcterms:Document ;
  rdfs:isDefinedBy <https://w3id.org/dfo/salmon> .

#################################################################
# COMMENTED EXAMPLE INDIVIDUALS (for docs/training only)
#################################################################
# :Skeena_MU             a dfo:ManagementUnit .
# :Skeena_Sockeye_CU     a dfo:ConservationUnit .
# :Skeena_Sockeye_Stock  a dfo:Stock .
# :Skeena_MU dfo:hasMemberCU :Skeena_Sockeye_CU .
# :Skeena_Sockeye_CU dfo:hasMemberStock :Skeena_Sockeye_Stock .
# # Reasoner will infer: :Skeena_MU dfo:hasMember :Skeena_Sockeye_Stock .
